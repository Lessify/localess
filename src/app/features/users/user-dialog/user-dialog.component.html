<h1 mat-dialog-title>User</h1>
<mat-dialog-content>
  <br />
  <form [formGroup]="form">
    <mat-form-field>
      <mat-label>Role</mat-label>
      <mat-select formControlName="role">
        <mat-option [value]="undefined">None</mat-option>
        <mat-option [value]="'custom'">Custom</mat-option>
        <mat-option [value]="'admin'">Admin</mat-option>
      </mat-select>
      @if (form.controls['role'].errors; as errors) {
        <mat-error>{{ fe.errors(errors) }}</mat-error>
      }
    </mat-form-field>

    @if (form.value.role === 'custom') {
      <b>Permissions</b>
      <mat-selection-list formControlName="permissions">
        <div mat-subheader>Administration</div>
        <mat-list-option value="USER_MANAGEMENT">
          <span matListItemTitle>User Management</span>
          <span matListItemLine>Invite, Delete users and change roles.</span>
        </mat-list-option>
        <mat-list-option value="SPACE_MANAGEMENT">
          <span matListItemTitle>Space Management</span>
          <span matListItemLine>Create, Update and Delete. </span>
        </mat-list-option>

        <mat-divider></mat-divider>
        <div mat-subheader>Translation</div>
        <mat-list-option value="TRANSLATION_READ">
          <span matListItemTitle>Read</span>
          <span matListItemLine>Read Translation.</span>
        </mat-list-option>
        <mat-list-option value="TRANSLATION_CREATE">
          <span matListItemTitle>Create</span>
          <span matListItemLine>Create Translation.</span>
        </mat-list-option>
        <mat-list-option value="TRANSLATION_UPDATE">
          <span matListItemTitle>Updated</span>
          <span matListItemLine>Updated Translation.</span>
        </mat-list-option>
        <mat-list-option value="TRANSLATION_DELETE">
          <span matListItemTitle>Delete</span>
          <span matListItemLine>Delete Translation.</span>
        </mat-list-option>
        <mat-list-option value="TRANSLATION_PUBLISH">
          <span matListItemTitle>Publish</span>
          <span matListItemLine>Publish Translation.</span>
        </mat-list-option>
        <mat-list-option value="TRANSLATION_EXPORT">
          <span matListItemTitle>Export</span>
          <span matListItemLine>Export Translation.</span>
        </mat-list-option>
        <mat-list-option value="TRANSLATION_IMPORT">
          <span matListItemTitle>Import</span>
          <span matListItemLine>Import Translation.</span>
        </mat-list-option>

        <mat-divider></mat-divider>
        <div mat-subheader>Schema</div>
        <mat-list-option value="SCHEMA_READ">
          <span matListItemTitle>Read</span>
          <span matListItemLine>Read Schema.</span>
        </mat-list-option>
        <mat-list-option value="SCHEMA_CREATE">
          <span matListItemTitle>Create</span>
          <span matListItemLine>Create Schema.</span>
        </mat-list-option>
        <mat-list-option value="SCHEMA_UPDATE">
          <span matListItemTitle>Updated</span>
          <span matListItemLine>Updated Schema.</span>
        </mat-list-option>
        <mat-list-option value="SCHEMA_DELETE">
          <span matListItemTitle>Delete</span>
          <span matListItemLine>Delete Schema.</span>
        </mat-list-option>
        <mat-list-option value="SCHEMA_EXPORT">
          <span matListItemTitle>Export</span>
          <span matListItemLine>Export Schema.</span>
        </mat-list-option>
        <mat-list-option value="SCHEMA_IMPORT">
          <span matListItemTitle>Import</span>
          <span matListItemLine>Import Schema.</span>
        </mat-list-option>

        <mat-divider></mat-divider>
        <div mat-subheader>Content</div>
        <mat-list-option value="CONTENT_READ">
          <span matListItemTitle>Read</span>
          <span matListItemLine>Read Content.</span>
        </mat-list-option>
        <mat-list-option value="CONTENT_CREATE">
          <span matListItemTitle>Create</span>
          <span matListItemLine>Create Content.</span>
        </mat-list-option>
        <mat-list-option value="CONTENT_UPDATE">
          <span matListItemTitle>Updated</span>
          <span matListItemLine>Updated Content.</span>
        </mat-list-option>
        <mat-list-option value="CONTENT_DELETE">
          <span matListItemTitle>Delete</span>
          <span matListItemLine>Delete Content.</span>
        </mat-list-option>
        <mat-list-option value="CONTENT_PUBLISH">
          <span matListItemTitle>Publish</span>
          <span matListItemLine>Publish Content.</span>
        </mat-list-option>
        <mat-list-option value="CONTENT_EXPORT">
          <span matListItemTitle>Export</span>
          <span matListItemLine>Export Content.</span>
        </mat-list-option>
        <mat-list-option value="CONTENT_IMPORT">
          <span matListItemTitle>Import</span>
          <span matListItemLine>Import Content.</span>
        </mat-list-option>

        <mat-divider></mat-divider>
        <div mat-subheader>Asset</div>
        <mat-list-option value="ASSET_READ">
          <span matListItemTitle>Read</span>
          <span matListItemLine>Read Asset.</span>
        </mat-list-option>
        <mat-list-option value="ASSET_CREATE">
          <span matListItemTitle>Create</span>
          <span matListItemLine>Create Asset.</span>
        </mat-list-option>
        <mat-list-option value="ASSET_UPDATE">
          <span matListItemTitle>Updated</span>
          <span matListItemLine>Updated Asset.</span>
        </mat-list-option>
        <mat-list-option value="ASSET_DELETE">
          <span matListItemTitle>Delete</span>
          <span matListItemLine>Delete Asset.</span>
        </mat-list-option>
        <mat-list-option value="ASSET_EXPORT">
          <span matListItemTitle>Export</span>
          <span matListItemLine>Export Asset.</span>
        </mat-list-option>
        <mat-list-option value="ASSET_IMPORT">
          <span matListItemTitle>Import</span>
          <span matListItemLine>Import Asset.</span>
        </mat-list-option>

        <mat-divider></mat-divider>
        <div mat-subheader>Development</div>
        <mat-list-option value="DEV_OPEN_API">
          <span matListItemTitle>Open API</span>
          <span matListItemLine>Access to Open API</span>
        </mat-list-option>
      </mat-selection-list>
    }
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button [mat-dialog-close]="undefined">Cancel</button>
  <button mat-raised-button color="primary" [mat-dialog-close]="form.value" [disabled]="!form.valid">Save</button>
</mat-dialog-actions>

@if (settingsStore.debugEnabled()) {
  <pre>{{ form.value | json }}</pre>
}
