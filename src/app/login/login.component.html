<div class="container">
  <div class="row">
  </div>
  <div class="row align-items-start">
    <div class="col"></div>
    <div class="col">
      <div *ngIf="showLoginButton">
        <div class="d-flex justify-content-center">
          <h1>Login</h1>
        </div>
        <form [formGroup]="form">
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput type="text" formControlName="email" required/>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Password</mat-label>
            <input matInput type="password" formControlName="password" required/>
          </mat-form-field>
          <div class="d-flex justify-content-center">
            <button mat-raised-button color="primary" (click)="loginWithEmailAndPassword(form.value.email, form.value.password)">
              LogIn
            </button>
            <div class="px-2"></div>
            <button mat-raised-button color="accent" (click)="form.reset()">
              Reset
            </button>
          </div>
          <div class="py-2"></div>
          <div class="d-flex justify-content-center">
            <button mat-stroked-button routerLink="/reset">
              Forgot Password ?
            </button>
          </div>
        </form>
        <div *ngIf="isGoogleAuthEnabled || isMicrosoftAuthEnabled">
          <div class="py-2"></div>
          <mat-divider></mat-divider>
          <div class="py-2"></div>
          <div class="d-flex justify-content-center">
            <button *ngIf="isGoogleAuthEnabled" mat-raised-button color="warn" (click)="loginWithGoogle()">LogIn
              with Google
            </button>
            <div class="px-2"></div>
            <button *ngIf="isMicrosoftAuthEnabled" mat-raised-button color="warn" (click)="loginWithMicrosoft()">
              LogIn with Microsoft
            </button>
          </div>
        </div>
      </div>

      <p *ngIf="showLogoutButton">
        Hello {{ (user| async)?.displayName}} <br/>
        <button (click)="logout()" *ngIf="showLogoutButton">Log out</button>
      </p>
    </div>
    <div class="col"></div>
  </div>
  <div class="row">
    <div class="col">
      <p *ngIf="isTest" class="text-break">
        <b>showLogoutButton</b> = {{showLogoutButton}} <br/>
        <b>showLoginButton</b> = {{showLoginButton}} <br/>
        <b>isGoogleAuthEnabled</b> = {{isGoogleAuthEnabled}} <br/>
        <b>isMicrosoftAuthEnabled</b> = {{isMicrosoftAuthEnabled}} <br/>
        <!--user = {{ user | async | json}} <br/>-->
        <b>userId</b> = {{ (user | async)?.uid }} <br/>
        <b>userDisplayName</b> = {{ (user | async)?.displayName }} <br/>
        <b>userEmail</b> = {{ (user | async)?.email }} <br/>
        <b>parsedToken</b> = {{ parsedToken | async | json }} <br/>
        <b>auth</b> = {{ auth | json }} <br/>
      </p>
    </div>
  </div>
</div>
